<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../static/stylesheets/estilos.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="../../static/javascripts/ckeditor5-build-classic/ckeditor.js"></script>
    <title>DevSeb</title>
</head>
<body>
    <%- include('../partials/header-page-admin') %>
    <main class="container mt-4">
        <section class="row">
            <h1>Editar Publicación</h1>
            <form action="/admin/procesar_editar_publicacion/<%=publicacion.id%>" method="POST">
                <fieldset class="row">
                    <div class="mb-3">
                        <label for="titulo" class="form-label">Titulo</label>
                        <input type="text" class="form-control" id="titulo" name="titulo" placeholder="Titulo publicación: " value="<%=publicacion.titulo%>">
                    </div>
                    <div class="mb-3">
                        <label for="resumen" class="form-label">Resumen: </label>
                        <textarea class="form-control" id="resumen" name="resumen" rows="3"><%=publicacion.resumen%></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="contenido" class="form-label">Contenido:</label>
                        <textarea class="form-control" id="contenido" name="contenido" rows="3"><%=publicacion.contenido%></textarea>
                    </div>
                    <input type="submit" class="btn btn-primary" value="Crear Publicación">
                </fieldset>
            </form>

            <!--Transforma el campo contenido en un campo de texto enriquesido-->
            <!--Permite que los autores incorporen un contenido mas legible-->
            <script>
                ClassicEditor
                  .create(document.querySelector('#contenido'), {
                    toolbar: ['heading', '|', 'bold', 'italic', 'link', 'bulletedList', 'numberedList', 'blockQuote'],
                    heading: {
                      options: [
                        { model: 'paragraph', title: 'Paragraph', class: 'ck-heading_paragraph' },
                        { model: 'heading1', view: 'h1', title: 'Heading 1', class: 'ck-heading_heading1' },
                        { model: 'heading2', view: 'h2', title: 'Heading 2', class: 'ck-heading_heading2' }
                      ]
                    }
                  })
                  .catch(error => {
                    console.error(error);
                  });
              </script>
        </section>
    </main>
    <%- include('../partials/footer-page') %>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>